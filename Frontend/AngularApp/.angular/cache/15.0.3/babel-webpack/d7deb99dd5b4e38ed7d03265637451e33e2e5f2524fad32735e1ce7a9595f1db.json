{"ast":null,"code":"import { DatePipe } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../employee-navbar/employee-navbar.component\";\nexport class EmployeeLeaveApplyComponent {\n  constructor(api, router) {\n    this.api = api;\n    this.router = router;\n    this.leaveType = \"\";\n    this.fromDate = '';\n    this.toDate = '';\n    this.remarks = '';\n    this.today = new Date();\n    this.currentDate = '';\n    this.pipe = new DatePipe('en-US');\n    this.readValue = () => {\n      let ChangedFormat = this.pipe.transform(this.today, 'YYYY/MM/dd');\n      this.currentDate = ChangedFormat;\n      let data = {\n        \"empid\": localStorage.getItem(\"userInfo\"),\n        \"leaveType\": this.leaveType,\n        \"fromDate\": this.fromDate,\n        \"toDate\": this.toDate,\n        \"remarks\": this.remarks,\n        \"applyDate\": this.currentDate\n      };\n      this.api.applyLeave(data).subscribe(response => {\n        window.location.reload();\n      });\n    };\n    let entry = '';\n    let entryCheck = {\n      empid: localStorage.getItem('userInfo')\n    };\n    console.log(entryCheck);\n    this.api.entryCheck(entryCheck).subscribe(response => {\n      console.log(response);\n      if (response[0].status == 'Granted') {\n        alert('You took Leave');\n      } else {}\n    });\n  }\n}\nEmployeeLeaveApplyComponent.ɵfac = function EmployeeLeaveApplyComponent_Factory(t) {\n  return new (t || EmployeeLeaveApplyComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router));\n};\nEmployeeLeaveApplyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmployeeLeaveApplyComponent,\n  selectors: [[\"app-employee-leave-apply\"]],\n  decls: 31,\n  vars: 4,\n  consts: [[1, \"conatiner\", \"text-white\"], [1, \"row\", \"d-flex\", \"justify-content-center\"], [1, \"col-12\", \"col-sm-12\", \"col-md-12\", \"col-lg-6\", \"col-xl-6\", \"col-xxl-6\"], [1, \"card-body\"], [1, \"row\", \"g-3\"], [1, \"col-12\", \"col-sm-12\", \"col-md-12\", \"col-lg-12\", \"col-xl-12\", \"col-xxl-12\"], [\"for\", \"\", 1, \"form-label\"], [\"name\", \"leaveType\", \"aria-label\", \"Default select example\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"casualLeave\"], [\"value\", \"sickLeave\"], [\"value\", \"splLeave\"], [\"type\", \"date\", \"name\", \"\", \"id\", \"\", \"name\", \"fromDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"\", \"id\", \"\", \"name\", \"toDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"remarks\", \"id\", \"\", \"cols\", \"30\", \"rows\", \"5\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-12\", \"col-sm-12\", \"col-md-12\", \"col-lg-12\", \"col-xl-12\", \"col-xxl-12\", \"d-flex\", \"justify-content-center\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function EmployeeLeaveApplyComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-employee-navbar\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"label\", 6);\n      i0.ɵɵtext(8, \"Leave Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"select\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeeLeaveApplyComponent_Template_select_ngModelChange_9_listener($event) {\n        return ctx.leaveType = $event;\n      });\n      i0.ɵɵelementStart(10, \"option\", 8);\n      i0.ɵɵtext(11, \"Casual Leave\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"option\", 9);\n      i0.ɵɵtext(13, \"Sick Leave\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"option\", 10);\n      i0.ɵɵtext(15, \"Special Leave\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 2)(17, \"label\", 6);\n      i0.ɵɵtext(18, \"From Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeeLeaveApplyComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.fromDate = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 2)(21, \"label\", 6);\n      i0.ɵɵtext(22, \"To Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeeLeaveApplyComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.toDate = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\", 5)(25, \"label\", 6);\n      i0.ɵɵtext(26, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"textarea\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function EmployeeLeaveApplyComponent_Template_textarea_ngModelChange_27_listener($event) {\n        return ctx.remarks = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 14)(29, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function EmployeeLeaveApplyComponent_Template_button_click_29_listener() {\n        return ctx.readValue();\n      });\n      i0.ɵɵtext(30, \"Apply Leave\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.leaveType);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.fromDate);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.toDate);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.remarks);\n    }\n  },\n  dependencies: [i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.EmployeeNavbarComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,QAAQ,QAAQ,iBAAiB;;;;;;AAS1C,OAAM,MAAOC,2BAA2B;EACtCC,YAAoBC,GAAc,EAASC,MAAa;IAApC,QAAG,GAAHD,GAAG;IAAoB,WAAM,GAANC,MAAM;IAgBjD,cAAS,GAAC,EAAE;IACZ,aAAQ,GAAC,EAAE;IACX,WAAM,GAAC,EAAE;IACT,YAAO,GAAC,EAAE;IACV,UAAK,GAAG,IAAIC,IAAI,EAAE;IAClB,gBAAW,GAAO,EAAE;IACpB,SAAI,GAAG,IAAIL,QAAQ,CAAC,OAAO,CAAC;IAC5B,cAAS,GAAC,MAAI;MACZ,IAAIM,aAAa,GAAG,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,KAAK,EAAE,YAAY,CAAC;MACjE,IAAI,CAACC,WAAW,GAAGJ,aAAa;MAChC,IAAIK,IAAI,GAAK;QACX,OAAO,EAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;QACxC,WAAW,EAAC,IAAI,CAACC,SAAS;QAC1B,UAAU,EAAC,IAAI,CAACC,QAAQ;QACxB,QAAQ,EAAC,IAAI,CAACC,MAAM;QACpB,SAAS,EAAC,IAAI,CAACC,OAAO;QACtB,WAAW,EAAC,IAAI,CAACP;OAClB;MACD,IAAI,CAACP,GAAG,CAACe,UAAU,CAACP,IAAI,CAAC,CAACQ,SAAS,CAChCC,QAAY,IAAG;QACdC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;MAC1B,CAAC,CACF;IACH,CAAC;IArCH,IAAIC,KAAK,GAAK,EAAE;IAEZ,IAAIC,UAAU,GAAQ;MAAEC,KAAK,EAAEd,YAAY,CAACC,OAAO,CAAC,UAAU;IAAC,CAAE;IACjEc,OAAO,CAACC,GAAG,CAACH,UAAU,CAAC;IACvB,IAAI,CAACtB,GAAG,CAACsB,UAAU,CAACA,UAAU,CAAC,CAACN,SAAS,CAAEC,QAAa,IAAI;MAC1DO,OAAO,CAACC,GAAG,CAACR,QAAQ,CAAC;MACrB,IAAIA,QAAQ,CAAC,CAAC,CAAC,CAACS,MAAM,IAAI,SAAS,EAAE;QACnCC,KAAK,CAAC,gBAAgB,CAAC;OAGxB,MAAM;IAET,CAAC,CAAC;EACJ;;AAhBW7B,2BAA2B;mBAA3BA,2BAA2B;AAAA;AAA3BA,2BAA2B;QAA3BA,2BAA2B;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXxCC,sCAA2C;MAC3CA,8BAAmC;MAMsBA,0BAAU;MAAAA,iBAAQ;MACnDA,iCAAyG;MAA5DA;QAAA;MAAA,EAAuB;MAChEA,kCAA4B;MAAAA,6BAAY;MAAAA,iBAAS;MACjDA,kCAA0B;MAAAA,2BAAU;MAAAA,iBAAS;MAC7CA,mCAAyB;MAAAA,8BAAa;MAAAA,iBAAS;MAGvDA,+BAAoE;MAC/BA,0BAAS;MAAAA,iBAAQ;MAClDA,kCAA6F;MAAvBA;QAAA;MAAA,EAAsB;MAA5FA,iBAA6F;MAEjGA,+BAAoE;MAC/BA,wBAAO;MAAAA,iBAAQ;MAChDA,kCAAyF;MAArBA;QAAA;MAAA,EAAoB;MAAxFA,iBAAyF;MAE7FA,+BAAuE;MAClCA,wBAAO;MAAAA,iBAAQ;MAChDA,qCAA6F;MAApEA;QAAA;MAAA,EAAqB;MAA+CA,iBAAW;MAE5GA,gCAAqG;MAC9DA;QAAA,OAASC,eAAW;MAAA,EAAC;MAAED,4BAAW;MAAAA,iBAAS;;;MAnBjCA,eAAuB;MAAvBA,uCAAuB;MAQEA,gBAAsB;MAAtBA,sCAAsB;MAIxBA,eAAoB;MAApBA,oCAAoB;MAI/DA,eAAqB;MAArBA,qCAAqB","names":["DatePipe","EmployeeLeaveApplyComponent","constructor","api","router","Date","ChangedFormat","pipe","transform","today","currentDate","data","localStorage","getItem","leaveType","fromDate","toDate","remarks","applyLeave","subscribe","response","window","location","reload","entry","entryCheck","empid","console","log","status","alert","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\NeSTDigital\\Frontend\\nestdigital\\src\\app\\employee-leave-apply\\employee-leave-apply.component.ts","D:\\NeSTDigital\\Frontend\\nestdigital\\src\\app\\employee-leave-apply\\employee-leave-apply.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ApiService } from '../api.service';\nimport { DatePipe } from '@angular/common';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-employee-leave-apply',\n  templateUrl: './employee-leave-apply.component.html',\n  styleUrls: ['./employee-leave-apply.component.css']\n})\n\nexport class EmployeeLeaveApplyComponent {\n  constructor(private api:ApiService,private router:Router){\n\nlet entry:any=''\n\n    let entryCheck: any = { empid: localStorage.getItem('userInfo') };\n    console.log(entryCheck);\n    this.api.entryCheck(entryCheck).subscribe((response: any) => {\n      console.log(response);\n      if (response[0].status == 'Granted') {\n        alert('You took Leave');\n        \n\n      } else {\n      }\n    });\n  }\n  leaveType=\"\"\n  fromDate=''\n  toDate=''\n  remarks=''\n  today = new Date();\n  currentDate:any = '';\n  pipe = new DatePipe('en-US');\n  readValue=()=>{\n    let ChangedFormat = this.pipe.transform(this.today, 'YYYY/MM/dd');\n    this.currentDate = ChangedFormat;\n    let data:any={\n      \"empid\":localStorage.getItem(\"userInfo\"),\n      \"leaveType\":this.leaveType,\n      \"fromDate\":this.fromDate,\n      \"toDate\":this.toDate,\n      \"remarks\":this.remarks,\n      \"applyDate\":this.currentDate,\n    }\n    this.api.applyLeave(data).subscribe(\n      (response:any)=>{\n        window.location.reload();\n      }\n    )\n  }\n  \n \n\n}\n","<app-employee-navbar></app-employee-navbar>\n<div class=\"conatiner text-white \">\n    <div class=\"row d-flex justify-content-center \">\n        <div class=\"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6\">\n            <div class=\"card-body\">\n                <div class=\"row g-3\">\n                    <div class=\"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12\">\n                        <label for=\"\" class=\"form-label\">Leave Type</label>\n                        <select class=\"form-select\" name=\"leaveType\" [(ngModel)]=\"leaveType\" aria-label=\"Default select example\">\n                            <option value=\"casualLeave\">Casual Leave</option>\n                            <option value=\"sickLeave\">Sick Leave</option>\n                            <option value=\"splLeave\">Special Leave</option>\n                          </select> \n                    </div>\n                    <div class=\"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6\">\n                        <label for=\"\" class=\"form-label\">From Date</label>\n                        <input type=\"date\" name=\"\" id=\"\" class=\"form-control\" name=\"fromDate\" [(ngModel)]=\"fromDate\">\n                    </div>\n                    <div class=\"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6\">\n                        <label for=\"\" class=\"form-label\">To Date</label>\n                        <input type=\"date\" name=\"\" id=\"\" class=\"form-control\" name=\"toDate\" [(ngModel)]=\"toDate\">\n                    </div>\n                    <div class=\"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12\">\n                        <label for=\"\" class=\"form-label\">Remarks</label>\n                        <textarea name=\"remarks\" [(ngModel)]=\"remarks\" id=\"\" cols=\"30\" rows=\"5\" class=\"form-control\"></textarea>\n                    </div>\n                    <div class=\"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12 d-flex justify-content-center\">\n                        <button class=\"btn btn-primary  \"  (click)=\"readValue()\" >Apply Leave</button>                      \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}